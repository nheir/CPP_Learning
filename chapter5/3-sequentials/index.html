<!doctype html><html lang=fr dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 7.0.1+72a875f1db967152c77914cff4d53f8fcee0e619"><meta name=description content="Vous allez maintenant manipuler les autres conteneurs s√©quentiels que la libraire propose.
Pour cet exercice, vous modifierez le fichier :
- chap-05/2-sequentials.cpp
La cible √† compiler est c5-2-sequentials.
Tableaux de taille fixe Pour cr√©er des tableaux de taille fixe, il est bien entendu possible d‚Äôutiliser les tableaux primitifs. L‚Äôinconv√©nient, c‚Äôest qu‚Äôil faut penser √† les initialiser, ce que tout le monde ne pense pas toujours √† faire‚Ä¶.
Du coup, pour pallier √† ce probl√®me, il est possible d‚Äôutiliser la classe std::array."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Autres conteneurs s√©quentiels :: Cours de C++ - Niveau Master"><meta name=twitter:description content="Vous allez maintenant manipuler les autres conteneurs s√©quentiels que la libraire propose.
Pour cet exercice, vous modifierez le fichier :
- chap-05/2-sequentials.cpp
La cible √† compiler est c5-2-sequentials.
Tableaux de taille fixe Pour cr√©er des tableaux de taille fixe, il est bien entendu possible d‚Äôutiliser les tableaux primitifs. L‚Äôinconv√©nient, c‚Äôest qu‚Äôil faut penser √† les initialiser, ce que tout le monde ne pense pas toujours √† faire‚Ä¶.
Du coup, pour pallier √† ce probl√®me, il est possible d‚Äôutiliser la classe std::array."><meta property="og:url" content="/chapter5/3-sequentials/index.html"><meta property="og:site_name" content="Cours de C++ - Niveau Master"><meta property="og:title" content="Autres conteneurs s√©quentiels :: Cours de C++ - Niveau Master"><meta property="og:description" content="Vous allez maintenant manipuler les autres conteneurs s√©quentiels que la libraire propose.
Pour cet exercice, vous modifierez le fichier :
- chap-05/2-sequentials.cpp
La cible √† compiler est c5-2-sequentials.
Tableaux de taille fixe Pour cr√©er des tableaux de taille fixe, il est bien entendu possible d‚Äôutiliser les tableaux primitifs. L‚Äôinconv√©nient, c‚Äôest qu‚Äôil faut penser √† les initialiser, ce que tout le monde ne pense pas toujours √† faire‚Ä¶.
Du coup, pour pallier √† ce probl√®me, il est possible d‚Äôutiliser la classe std::array."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="Librairie standard"><meta itemprop=name content="Autres conteneurs s√©quentiels :: Cours de C++ - Niveau Master"><meta itemprop=description content="Vous allez maintenant manipuler les autres conteneurs s√©quentiels que la libraire propose.
Pour cet exercice, vous modifierez le fichier :
- chap-05/2-sequentials.cpp
La cible √† compiler est c5-2-sequentials.
Tableaux de taille fixe Pour cr√©er des tableaux de taille fixe, il est bien entendu possible d‚Äôutiliser les tableaux primitifs. L‚Äôinconv√©nient, c‚Äôest qu‚Äôil faut penser √† les initialiser, ce que tout le monde ne pense pas toujours √† faire‚Ä¶.
Du coup, pour pallier √† ce probl√®me, il est possible d‚Äôutiliser la classe std::array."><meta itemprop=wordCount content="1347"><title>Autres conteneurs s√©quentiels :: Cours de C++ - Niveau Master</title>
<link href=../../css/fontawesome-all.min.css?1729268597 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fontawesome-all.min.css?1729268597 rel=stylesheet></noscript><link href=../../css/nucleus.css?1729268597 rel=stylesheet><link href=../../css/auto-complete.css?1729268597 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/auto-complete.css?1729268597 rel=stylesheet></noscript><link href=../../css/perfect-scrollbar.min.css?1729268597 rel=stylesheet><link href=../../css/fonts.css?1729268597 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fonts.css?1729268597 rel=stylesheet></noscript><link href=../../css/theme.css?1729268597 rel=stylesheet><link href=../../css/theme-mine.css?1729268597 rel=stylesheet id=R-variant-style><link href=../../css/chroma-relearn-light.css?1729268597 rel=stylesheet id=R-variant-chroma-style><link href=../../css/print.css?1729268597 rel=stylesheet media=print><script src=../../js/variant.js?1729268597></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.variants&&variants.init(["mine"]),window.T_Copy_to_clipboard=`Copier dans le presse-papiers`,window.T_Copied_to_clipboard=`Copi√© dans le presse-papiers!`,window.T_Copy_link_to_clipboard=`Copier le lien dans le presse-papiers`,window.T_Link_copied_to_clipboard=`Lien copi√© dans le presse-papiers!`,window.T_Reset_view=`R√©initialiser la vue`,window.T_View_reset=`Vue r√©initialis√©e!`,window.T_No_results_found=`Aucun r√©sultat trouv√© pour "{0}"`,window.T_N_results_found=`{1} r√©sultats trouv√©s pour "{0}"`</script></head><body class="mobile-support html disableInlineCopyToClipboard" data-url=../../chapter5/3-sequentials/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table des mati√®res (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><ul><li><a href=#tableaux-de-taille-fixe>Tableaux de taille fixe</a></li><li><a href=#listes-cha√Æn√©es>Listes cha√Æn√©es</a></li><li><a href=#pile-ou-file>Pile ou File</a></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../index.html><span itemprop=name>Accueil</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../chapter5/index.html><span itemprop=name>Librairie standard</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Autres conteneurs s√©quentiels</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=../../chapter5/2-vectors/index.html title="Tableaux dynamiques (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=../../chapter5/4-associatives/index.html title="Conteneurs associatifs (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Aller plus loin"><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable chapter5" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=autres-conteneurs-s√©quentiels>Autres conteneurs s√©quentiels</h1><p>Vous allez maintenant manipuler les autres conteneurs s√©quentiels que la libraire propose.</p><hr><p>Pour cet exercice, vous modifierez le fichier :<br>- <code>chap-05/2-sequentials.cpp</code></p><p>La cible √† compiler est <code>c5-2-sequentials</code>.</p><hr><h3 id=tableaux-de-taille-fixe>Tableaux de taille fixe</h3><p>Pour cr√©er des tableaux de taille fixe, il est bien entendu possible d&rsquo;utiliser les tableaux primitifs. L&rsquo;inconv√©nient, c&rsquo;est qu&rsquo;il faut penser √† les initialiser, ce que tout le monde ne pense pas toujours √† faire&mldr;.</p><p>Du coup, pour pallier √† ce probl√®me, il est possible d&rsquo;utiliser la classe <code>std::array</code>. Dans les param√®tres de template, il faut pr√©ciser le type des √©l√©ments, comme pour <code>vector</code>, mais il faut √©galement indiquer la taille du tableau :</p><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=mi>3</span><span class=o>&gt;</span> <span class=n>an_array_with_3_elements</span><span class=p>;</span></span></span></code></pre></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Information</div><div class=box-content><p>Lorsque vous fournissez une expression √† un param√®tre de template, il faut que le compilateur soit capable de calculer la valeur de cette expression au moment de la compilation.<br>Si vous essayez d&rsquo;utiliser une variable pour indiquer la taille d&rsquo;un <code>std::array</code>, vous aurez donc une erreur de compilation.</p></div></div><p><strong>Dans quelle situation peut-on utiliser un <code>std::array</code> ?</strong></p><p>Un des cas d&rsquo;utilisation classique est lorsque l&rsquo;on souhaite cr√©er un tableau associatif index√© par des entiers de 0 √† N.<br>Cela s&rsquo;y pr√™te d&rsquo;autant plus lorsque l&rsquo;indice est en r√©alit√© une <strong>enum√©ration</strong>.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Remarque</div><div class=box-content><p>Pour d√©finir et utiliser des <code>enum</code> en C++, c&rsquo;est un peu plus simple qu&rsquo;en C : il n&rsquo;y a pas besoin de faire de <code>typedef</code> pour r√©f√©rencer l&rsquo;enum par son nom.</p></div></div><p>Dans le code de base du fichier, vous pouvez trouver une √©num√©ration <code>Fruit</code>, contenant les valeurs <code>Apricot</code>, <code>Cherry</code>, <code>Mango</code> et <code>Raspberry</code>. Vous avez √©galement une derni√®re valeur <code>Fruit_Count</code>, qui contient donc le nombre de valeurs de l&rsquo;enum.<br>D√©finissez un <code>array</code> servant √† indiquer pour chaque fruit possible le nom de ce fruit. Assignez ensuite dans chaque case la valeur appropri√©e.</p><div class=expand><input type=checkbox id=R-expand-779bf848460aeb07c435724c8384c813 aria-controls=R-expandcontent-779bf848460aeb07c435724c8384c813>
<label class=expand-label for=R-expand-779bf848460aeb07c435724c8384c813><i class="expander-icon fa-fw fas fa-chevron-down"></i>
<i class="expander-icon fa-fw fas fa-chevron-right"></i> Solution</label><div id=R-expandcontent-779bf848460aeb07c435724c8384c813 class=expand-content><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>array</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=p>,</span> <span class=n>Fruit_Count</span><span class=o>&gt;</span> <span class=n>fruit_names</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>fruit_names</span><span class=p>[</span><span class=n>Apricot</span><span class=p>]</span> <span class=o>=</span> <span class=s>&#34;apricot&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>fruit_names</span><span class=p>[</span><span class=n>Cherry</span><span class=p>]</span> <span class=o>=</span> <span class=s>&#34;cherry&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>fruit_names</span><span class=p>[</span><span class=n>Mango</span><span class=p>]</span> <span class=o>=</span> <span class=s>&#34;mango&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>fruit_names</span><span class=p>[</span><span class=n>Raspberry</span><span class=p>]</span> <span class=o>=</span> <span class=s>&#34;raspberry&#34;</span><span class=p>;</span></span></span></code></pre></div></div></div><p><strong>C&rsquo;est quoi l&rsquo;int√©r√™t d&rsquo;utiliser un <code>array</code>, alors qu&rsquo;on peut faire la m√™me chose, et m√™me plus, avec un <code>vector</code> ?</strong></p><p>Une partie de la r√©ponse est dans la question : en programmation, faire plus, c&rsquo;est rarement synonyme de faire mieux&mldr;<br>Lorsqu&rsquo;une classe permet de r√©pondre exactement √† un besoin, il vaut mieux utiliser cette classe l√† plut√¥t qu&rsquo;en utiliser une autre qui r√©pond aussi au besoin, mais vous permet en plus de faire le caf√©, nettoyer les toilettes et d√©truire le monde. Pourquoi ? Tout simplement parce que moins il y a de code √† devoir supporter, plus c&rsquo;est simple de maintenir ses programmes et de les faire √©voluer.</p><p>Une autre raison de pr√©f√©rer l&rsquo;usage d&rsquo;un <code>array</code> √† un <code>vector</code> est de r√©duire le nombre d&rsquo;allocations dynamiques du programme. En effet, contrairement aux <code>vector</code>, l&rsquo;espace de stockage des <code>array</code> peut √™tre plac√© sur la pile. C&rsquo;est toujours int√©ressant de s&rsquo;√©conomiser des op√©rations co√ªteuses lorsqu&rsquo;on en a la possibilit√©.</p><hr><h3 id=listes-cha√Æn√©es>Listes cha√Æn√©es</h3><p>La librairie standard impl√©mente les classes <code>std::list</code> et <code>std::forward_list</code>, qui repr√©sente respectivement des listes doublement et simplement cha√Æn√©es.</p><p>L&rsquo;int√©r√™t des listes vis-√†-vis des tableaux, c&rsquo;est qu&rsquo;il est possible d&rsquo;ins√©rer ou de supprimer des √©l√©ments en O(1). De nouvelles fonctions de modifications sont donc disponibles dans l&rsquo;interface de la liste, comme <code>merge</code> (fusionner deux listes), <code>splice</code> (ins√©rer une liste au milieu d&rsquo;une autre), <code>remove</code> (retirer des √©l√©ments selon leur valeur) ou encore <code>sort</code> (trier la liste).</p><p>L&rsquo;inconv√©nient, c&rsquo;est qu&rsquo;il n&rsquo;est plus possible d&rsquo;acc√©der √† un √©l√©ment depuis sa position en O(1). D&rsquo;ailleurs, l&rsquo;op√©rateur <code>[]</code> n&rsquo;est pas disponible sur les listes de la STL.</p><p>Dans la fonction <code>try_lists</code>, quatres listes vides sont d√©finies. Commencez par leur ajouter des valeurs (de la mani√®re de votre choix).<br>Faites ensuite en sorte de regrouper <code>l1</code> et <code>l2</code> dans une m√™me liste ordonn√©e. Faites de m√™me avec <code>l3</code> et <code>l4</code>.<br>Placez enfin le r√©sultat du deuxi√®me groupement en plein milieu du premier groupement.</p><div class=expand><input type=checkbox id=R-expand-34a926f0bf93143b6d469bca16c6f162 aria-controls=R-expandcontent-34a926f0bf93143b6d469bca16c6f162>
<label class=expand-label for=R-expand-34a926f0bf93143b6d469bca16c6f162><i class="expander-icon fa-fw fas fa-chevron-down"></i>
<i class="expander-icon fa-fw fas fa-chevron-right"></i> Solution</label><div id=R-expandcontent-34a926f0bf93143b6d469bca16c6f162 class=expand-content><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=c1>// There are many differentes ways to put values in a list.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>std</span><span class=o>::</span><span class=n>list</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>l1</span> <span class=p>{</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>200</span><span class=p>,</span> <span class=o>-</span><span class=mi>8</span><span class=p>,</span> <span class=mi>6</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>list</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>l2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>45</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>list</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>l3</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>l3</span><span class=p>.</span><span class=n>assign</span><span class=p>({</span> <span class=mi>41</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>12</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>list</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>l4</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>l4</span><span class=p>.</span><span class=n>emplace_front</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>l4</span><span class=p>.</span><span class=n>emplace_front</span><span class=p>(</span><span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>l4</span><span class=p>.</span><span class=n>emplace_front</span><span class=p>(</span><span class=mi>6</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// First possibility : sort first, then use merge.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>l1</span><span class=p>.</span><span class=n>sort</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>l2</span><span class=p>.</span><span class=n>sort</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>l1</span><span class=p>.</span><span class=n>merge</span><span class=p>(</span><span class=n>l2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Second possibility : append one to the other, then use sort.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>l3</span><span class=p>.</span><span class=n>splice</span><span class=p>(</span><span class=n>l3</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>l4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>l3</span><span class=p>.</span><span class=n>sort</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Find the middle of the list by using function std::advance, and insert the other list at this position.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>auto</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>l1</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>advance</span><span class=p>(</span><span class=n>mid</span><span class=p>,</span> <span class=n>l1</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>/</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>l1</span><span class=p>.</span><span class=n>splice</span><span class=p>(</span><span class=n>mid</span><span class=p>,</span> <span class=n>l3</span><span class=p>);</span></span></span></code></pre></div></div></div><p><strong>Concr√®tement, que peut-on faire avec une <code>list</code> que l&rsquo;on ne peut pas faire avec une <code>forward_list</code> ?</strong></p><p>Dans une <code>forward_list</code>, on ne conna√Æt que le d√©but de la liste. Il faut donc la parcourir en entier si on veut acc√©der √† la fin. Il n&rsquo;est aussi pas possible de la parcourir √† l&rsquo;envers.<br>A part cela, les autres op√©rations sont disponibles avec la m√™me complexit√©.</p><hr><h3 id=pile-ou-file>Pile ou File</h3><p>Les derniers conteneurs que nous allons ici sont les piles <code>std::stack</code> et les files <code>std::queue</code>. Nous n&rsquo;allons pas rappeler en d√©tail ce que sont les piles ou les files, mais si vous avez tout oublier de vos cours d&rsquo;algorithmique, sachez au moins que dans une pile, les insertions et suppressions sont effectu√©es en fin de conteneur, alors que dans une file, les suppressions s&rsquo;effectuent en t√™te et les insertions en fin de conteneur.</p><p>Dans le cas de la STL, <code>stack</code> et <code>queue</code> ont la particularit√© d&rsquo;√™tre des adapteurs. Cela signifie que vous pouvez choisir l&rsquo;impl√©mentation que vous souhaitez utiliser en interne. La seule contrainte, c&rsquo;est que la classe sous-jacente doit fournir certaines fonctions. Par exemple, dans le cas de la pile, on pourrait utiliser <code>vector</code> ou <code>list</code>, mais pas <code>forward_list</code> car elle ne d√©finit pas <code>push_back</code> :<br><a href=#R-image-696f9cef49441d7ad79104f3d2837c7b class=lightbox-link><img class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/chapter5/doc-stack-constraints.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-696f9cef49441d7ad79104f3d2837c7b><img class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/chapter5/doc-stack-constraints.png></a></p><p>Sur l&rsquo;image ci-dessus, on vous pr√©cise quel conteneur est utilis√© par d√©faut si vous n&rsquo;en sp√©cifier aucun (c&rsquo;est-√†-dire si vous √©crivez juste <code>std::stack&lt;int></code>, au lieu de <code>std::stack&lt;int, smtg></code>). De quelle classe s&rsquo;agit-il ?<br>En cherchant un petit peu dans sa documentation, essayez de trouver une raison pour laquelle la librairie a d√©cid√© d&rsquo;utiliser ce conteneur l√† par d√©faut.</p><div class=expand><input type=checkbox id=R-expand-cb1baaeb594426f906218e4116026df1 aria-controls=R-expandcontent-cb1baaeb594426f906218e4116026df1>
<label class=expand-label for=R-expand-cb1baaeb594426f906218e4116026df1><i class="expander-icon fa-fw fas fa-chevron-down"></i>
<i class="expander-icon fa-fw fas fa-chevron-right"></i> Solution</label><div id=R-expandcontent-cb1baaeb594426f906218e4116026df1 class=expand-content><p>Par d√©faut, <code>stack</code> est impl√©ment√©e au moyen d&rsquo;une <code>std::deque</code>. L&rsquo;avantage de cette classe pour l&rsquo;impl√©mentation d&rsquo;une pile, c&rsquo;est qu&rsquo;elle est tr√®s efficace pour ajouter et retirer des √©l√©ments en fin de conteneur (complexit√© en O(1)), et lors de ces op√©rations, les it√©rateurs sur les autres √©l√©ments ne sont jamais invalid√©s (= plus de s√©curit√©). Elle est aussi plus performante que le <code>vector</code> lors des r√©allocations (pas de copie des √©l√©ments existants).</p></div></div><p>Vous allez maintenant instancier une <code>stack</code> utilisant comme impl√©mentation sous-jacente un <code>vector&lt;int></code>, plut√¥t qu&rsquo;une <code>deque</code>. Pour cela, il suffit de sp√©cifier le type de conteneur dans un second param√®tre de template.<br>Faites en sorte que la <code>stack</code> contienne √† la fin <code>{ 0, 1, 2 }</code>.</p><div class=expand><input type=checkbox id=R-expand-ff885bfbe3d273b0a5b9be43b256f61f aria-controls=R-expandcontent-ff885bfbe3d273b0a5b9be43b256f61f>
<label class=expand-label for=R-expand-ff885bfbe3d273b0a5b9be43b256f61f><i class="expander-icon fa-fw fas fa-chevron-down"></i>
<i class="expander-icon fa-fw fas fa-chevron-right"></i> Solution</label><div id=R-expandcontent-ff885bfbe3d273b0a5b9be43b256f61f class=expand-content><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=c1>// The stack can be initialized from nothing, and then values are added with push or emplace.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>std</span><span class=o>::</span><span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>s1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// It can also be initialized from an already existing container, matching the type used internally.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span> <span class=p>{</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>s2</span> <span class=p>{</span> <span class=n>v</span> <span class=p>};</span></span></span></code></pre></div><p>Notez que les deux syntaxe <code>s2 { v }</code> et <code>s2(v)</code> fonctionnent, puisque <code>stack</code> n&rsquo;a pas de constructeur par initializer_list.</p></div></div><p>Essayez maintenant de parcourir la <code>stack</code> via une boucle <code>for</code> pour l&rsquo;afficher (pas foreach). Qu&rsquo;est-ce qui pose probl√®me ?</p><div class=expand><input type=checkbox id=R-expand-9f6cdb555f9e061465d49e5249a1a038 aria-controls=R-expandcontent-9f6cdb555f9e061465d49e5249a1a038>
<label class=expand-label for=R-expand-9f6cdb555f9e061465d49e5249a1a038><i class="expander-icon fa-fw fas fa-chevron-down"></i>
<i class="expander-icon fa-fw fas fa-chevron-right"></i> Solution</label><div id=R-expandcontent-9f6cdb555f9e061465d49e5249a1a038 class=expand-content><p>Dans une pile, on ne peut acc√©der qu&rsquo;au premier √©l√©ment. La classe <code>stack</code> ne fournit donc pas l&rsquo;ensemble des fonctions dont dispose le conteneur sous-jacent, et c&rsquo;est bien l√† son int√©r√™t.<br>Si on d√©cide de d√©finir un attribut d&rsquo;une classe en tant que <code>stack</code> plut√¥t qu&rsquo;en tant que <code>vector</code>, on ajoute en fait des contraintes sur les op√©rations qu&rsquo;il est possible d&rsquo;effectuer sur ce membre. Cela permet donc d&rsquo;enforcer les invariants de la classe plus facilement.</p></div></div><p>Retentez maintenant le parcours via une boucle <code>foreach</code>. Essayez de compiler, et d√©duisez-en le nom des fonctions attendues par le compilateur pour pouvoir parcourir un conteneur via une boucle <code>foreach</code>.</p><div class=expand><input type=checkbox id=R-expand-939777d4de4af0c1bd600033bbfd3fbb aria-controls=R-expandcontent-939777d4de4af0c1bd600033bbfd3fbb>
<label class=expand-label for=R-expand-939777d4de4af0c1bd600033bbfd3fbb><i class="expander-icon fa-fw fas fa-chevron-down"></i>
<i class="expander-icon fa-fw fas fa-chevron-right"></i> Solution</label><div id=R-expandcontent-939777d4de4af0c1bd600033bbfd3fbb class=expand-content><p>Le compilateur nous dit ceci :</p><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>error: <span class=s1>&#39;begin&#39;</span> was not declared in this scope
</span></span><span class=line><span class=cl>error: <span class=s1>&#39;end&#39;</span> was not declared in this scope</span></span></code></pre></div><p>On peut donc en d√©duire que pour qu&rsquo;une classe soit it√©rable via une boucle foreach, il semblerait qu&rsquo;elle doive fournir deux fonctions appel√©es <code>begin</code> et <code>end</code>.</p></div></div><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class="default-animation showVisitedLinks"><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=logo href=../../>üéÑ C++ üéÑ</a></div></div><div id=R-homelinks class=default-animation><hr class=padding></div><div id=R-content-wrapper class=highlightable><div id=R-topics><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/chapter0/index.html><a class=padding href=../../chapter0/index.html><b>0- </b>Mise en place<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-bb41caf94f12b8a1a4b5e560230e7851 class=collapsible-menu></ul></li><li data-nav-id=/chapter1/index.html><a class=padding href=../../chapter1/index.html><b>1- </b>Introduction au C++<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-6c398714eae4372920aec3a1e6c2e143 class=collapsible-menu></ul></li><li data-nav-id=/chapter2/index.html><a class=padding href=../../chapter2/index.html><b>2- </b>Classes<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-b1df0095a9fd74320697a6d478418ec3 class=collapsible-menu></ul></li><li data-nav-id=/chapter3/index.html><a class=padding href=../../chapter3/index.html><b>3- </b>Cycle de vie<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-9f6546bce6f8e9a77063b71c880fd5b8 class=collapsible-menu></ul></li><li data-nav-id=/chapter4/index.html><a class=padding href=../../chapter4/index.html><b>4- </b>H√©ritage<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-48065e8b6e7e69533ca73b3931c8a0a1 class=collapsible-menu></ul></li><li class=parent data-nav-id=/chapter5/index.html><a class=padding href=../../chapter5/index.html><b>5- </b>Librairie standard<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-86528e6ba587b53932a1dafaa9cd375c class=collapsible-menu><li data-nav-id=/chapter5/1-doc/index.html><a class=padding href=../../chapter5/1-doc/index.html>Un peu de doc...<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/chapter5/2-vectors/index.html><a class=padding href=../../chapter5/2-vectors/index.html>Tableaux dynamiques<i class="fa-fw fas fa-check read-icon"></i></a></li><li class=active data-nav-id=/chapter5/3-sequentials/index.html><a class=padding href=../../chapter5/3-sequentials/index.html>Autres conteneurs s√©quentiels<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/chapter5/4-associatives/index.html><a class=padding href=../../chapter5/4-associatives/index.html>Conteneurs associatifs<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/chapter5/5-strings/index.html><a class=padding href=../../chapter5/5-strings/index.html>Manipulation de cha√Ænes<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/chapter5/6-tuples/index.html><a class=padding href=../../chapter5/6-tuples/index.html>Paires et tuples<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/chapter5/test/index.html><a class=padding href=../../chapter5/test/index.html>Questionnaire ‚òë<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/chapter5/summary/index.html><a class=padding href=../../chapter5/summary/index.html>Synth√®se<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/chapter6/index.html><a class=padding href=../../chapter6/index.html><b>6- </b>Algorithmes<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-016ee40825ff7c4aeecbac08a8ca264b class=collapsible-menu></ul></li><li data-nav-id=/chapter9/index.html><a class=padding href=../../chapter9/index.html><b>7- </b>Templates<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-24ddf636ccd0ce3ef39c8060d1779332 class=collapsible-menu></ul></li><li data-nav-id=/chapter10/index.html><a class=padding href=../../chapter10/index.html><b>8- </b>Param√®tres de templates<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-66e6e0c58d73995ecc09e8fbbe358e51 class=collapsible-menu></ul></li></ul></div><div id=R-shortcuts><div class="nav-title padding">Acc√®s rapide</div><ul class=space><li><a class=padding href=https://github.com/Laefy/CPP_Learning_Code/><i class='fab fa-github'></i> D√©p√¥t Cours</a></li><li><a class=padding href=https://github.com/Laefy/CPP_Exercises/><i class='fab fa-github'></i> D√©p√¥t TPs</a></li><li><a class=padding href=../../slides/index.html><i class='far fa-file-powerpoint'></i> Slides</a></li><li><a class=padding href=../../workflow/index.html><i class='far fa-list-alt'></i> Workflow</a></li><li><a class=padding href=../../faq/index.html><i class='fas fa-question-circle'></i> FAQ</a></li><li><a class=padding href=../../chapter0/6-tips/index.html><i class='fa fa-rocket'></i> Astuces</a></li><li><a class=padding href=https://godbolt.org/><i class='fas fa-cog'></i> Compiler Explorer</a></li><li><a class=padding href=https://en.cppreference.com/w/><i class='fas fa-passport'></i> CPP-Ref</a></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div><div id=R-menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"><div id=R-prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks"><ul><li id=R-select-language-container class=footerLangSwitch><div class="padding menu-control"><i class="fa-fw fas fa-language"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-language>Langue</label>
<select id=R-select-language onchange="location=this.querySelector(this.value).dataset.url"><option id=R-select-language-fr value=#R-select-language-fr data-url=../../chapter5/3-sequentials/index.html lang=fr selected>Fran√ßais</option></select></div><div class=clear></div></div></li><li id=R-select-variant-container class=footerVariantSwitch><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Th√®me</label>
<select id=R-select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=R-select-variant-mine value=mine selected>Mine</option></select></div><div class=clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class="footerVisitedLinks showVisitedLinks"><div class="padding menu-control"><i class="fa-fw fas fa-history"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Supprimer l'historique</button></div><div class=clear></div></div></li></ul></div><div id=R-footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></div></aside><script src=../../js/clipboard.min.js?1729268597 defer></script><script src=../../js/perfect-scrollbar.min.js?1729268597 defer></script><script src=../../js/theme.js?1729268597 defer></script><button id=footer-question-btn title="Envoyer un message √† propos du texte s√©lectionn√©" onclick=openQuestionForm() disabled><i class="fas fa-question-circle"></i></button><div id=footer-question-window disabled><form id=question method=POST action=https://formsubmit.co/3aa0f379a1aed9c454634cc2da153a7b target=question-submitted onsubmit=cleanQuestionFormContent()><input type=email name=email placeholder=mon_email@smthg.com required onchange=updateQuestionFormSubject()>
<textarea name=question rows=7 cols=30 placeholder="Mon message..."></textarea>
<input type=hidden name=selection>
<input type=hidden name=_replyto>
<input type=hidden name=_subject>
<input type=hidden name=_template value=box>
<input type=hidden name=_captcha value=false>
<input type=hidden name=_next value=//question-submitted/>
<input type=submit disabled style=display:none aria-hidden=true>
<input type=submit value=Envoyer></form><iframe class=hidden name=question-submitted src></iframe></div><script>function updateQuestionFormSubject(){let e=document.querySelector('#question>input[name="email"]').value;document.querySelector('#question>input[name="_subject"]').value="[C++][Chapitre 5] "+e+", retour sur ta question"}function cleanQuestionFormContent(){function e(e){e.value=e.value.replace(/\[\.\./g,"[ ..")}e(document.querySelector('#question>textarea[name="question"]')),e(document.querySelector('#question>input[name="selection"]'))}function openQuestionForm(){document.getElementById("footer-question-window").removeAttribute("disabled");var e=window.getSelection().toString();document.querySelector('#question>input[name="selection"]').value=e}function updateQuestionWidgetState(e){var t=document.getElementById("R-body-inner"),n=window.getSelection(),s=document.getElementById("footer-question-window");document.getElementById("footer-question-btn").disabled=n.isCollapsed||t==null||t.contains(n.anchorNode)==!1||t.contains(n.focusNode)==!1,e!==void 0&&e.type=="mouseup"&&s.contains(e.target)==!1&&s.contains(document.activeElement)==!1&&s.setAttribute("disabled",!0)}updateQuestionFormSubject(),document.onmouseup=document.onkeyup=document.onselectionchange=updateQuestionWidgetState,updateQuestionWidgetState()</script></body></html>